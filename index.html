baseCamps.forEach(camp => {
    // Custom Icon f√ºr Basislager mit Landesflagge
    const campIcon = L.divIcon({
        className: 'base-camp-marker',
        html: `<div style="
            background: white;
            color: black;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            border: 2px solid #4CAF50;
            box-shadow: 0 2px 6px rgba(0,0,0,0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: bold;
        ">${getCountryFlag(camp.team)}</div>`,
        iconSize: [24, 24],
        iconAnchor: [12, 12],
        popupAnchor: [0, -12]
    });

    const marker = L.marker([camp.lat, camp.lng], { icon: campIcon });

    const stateInfo = camp.country === "USA" ? `, ${camp.state}` : `, ${camp.state}`;
    
    marker.bindPopup(`
        <div style="text-align: center; padding: 12px; min-width: 250px;">
            <h3 style="margin: 0 0 12px 0; color: #4CAF50; font-size: 1.3em;">
                ${getCountryFlag(camp.team)} Basislager ${camp.team}
            </h3>
            <div style="text-align: left; background: #f5f5f5; padding: 10px; border-radius: 8px; margin-bottom: 10px;">
                <p style="margin: 5px 0; color: #333;">
                    <strong>üìç Standort:</strong><br>
                    ${camp.location}${stateInfo}, ${camp.country}
                </p>
                <p style="margin: 5px 0; color: #333;">
                    <strong>üè® Unterkunft:</strong><br>
                    ${camp.hotel}
                </p>
                <p style="margin: 5px 0; color: #333;">
                    <strong>‚öΩ Training:</strong><br>
                    ${camp.training}
                </p>
            </div>
            <div style="background: #4CAF50; color: white; padding: 5px; border-radius: 5px; font-size: 0.85em;">
                ‚úì ${camp.status}
            </div>
        </div>
    `);

    marker.addTo(baseCampLayer);
});
